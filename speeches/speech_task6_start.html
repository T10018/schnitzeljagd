<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Aufgabe 1</title>
  <link rel="stylesheet" href="../css/speech.css">
</head>
<body>
  <img id="character" src="../pics/pic1.png" alt="Charakter">

  <div id="speech">Die Straßen sind eng, die Häuser bieten Deckung – wenn wir schnell reagieren, können wir diesen Nachteil in einen Vorteil verwandeln.</div>

  <button class="button bottom-left" onclick="previous()" id="backBtn" style="display: none;">Zurück</button>
  <button class="button bottom-right" onclick="next()" id="nextBtn">Weiter</button>

  <script>
    const lines = [
      "Die Straßen sind eng, die Häuser bieten Deckung – wenn wir schnell reagieren, können wir diesen Nachteil in einen Vorteil verwandeln. ",
      "Stellt unsere Einheiten sofort auf: Infanterie in Stellung bringen, Artillerie ausrichten, Reiterei bereithalten. Jeder Moment zählt! Ihr müsst jetzt handeln, Feldmarschall – der Schutz der Stadt liegt in euren Händen. "
    ];

    let index = 0;

    function updateSpeech() {
      const speechElement = document.getElementById("speech");
      const backBtn = document.getElementById("backBtn");
      const nextBtn = document.getElementById("nextBtn");
      
      // Fade-Effekt
      speechElement.style.opacity = '0';
      
      setTimeout(() => {
        speechElement.innerHTML = lines[index];
        speechElement.style.opacity = '1';
      }, 200);
      
      backBtn.style.display = index > 0 ? "block" : "none";
      nextBtn.innerHTML = "Weiter";
    }

    function next() {
      if (index < lines.length - 1) {
        index++;
        updateSpeech();
      } else {
        // Fade-out-Effekt vor dem Seitenwechsel
        document.body.classList.add('fade-out');
        requestAnimationFrame(() => {
        setTimeout(() => {
          window.location.href = "../task6/index.html";
        }, 500);
        });
      }
    }

    function previous() {
      if (index > 0) {
        index--;
        updateSpeech();
      }
    }
  </script>
</body>
</html>