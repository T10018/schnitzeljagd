<!DOCTYPE html>
<html>
  <head>
    <title>AR.js Minimal</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />
    
    <!-- A-Frame (3D-Framework fÃ¼r WebVR/WebAR) -->
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    
    <!-- AR.js fÃ¼r GPS-basierte AR im Browser -->
    <script src="https://raw.githack.com/AR-js-org/AR.js/3.3.2/aframe/build/aframe-ar.js"></script>
    
    <!-- Externe CSS-Datei -->
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <!-- Ladeanzeige fÃ¼r GPS -->
    <div id="gpsLoading">
      â³ GPS wird gesuchtâ€¦ Bitte kurz stillhalten
    </div>

    <!-- Button fÃ¼r Tipps oben links -->
    <button id="tipBtn" class="tip-button" onclick="showTip()" style="display: none;">
      <svg class="lightbulb" viewBox="0 0 24 24">
        <path d="M12 2C8.13 2 5 5.13 5 9c0 2.38 1.19 4.47 3 5.74V17c0 .55.45 1 1 1h6c.55 0 1-.45 1-1v-2.26c1.81-1.27 3-3.36 3-5.74 0-3.87-3.13-7-7-7zM9 21c0 .55.45 1 1 1h4c.55 0 1-.45 1-1v-1H9v1z"/>
      </svg>
    </button>

    <!-- Halbtransparenter Hintergrund beim Tipp-Popup -->
    <div class="popup-overlay" id="popupOverlay" onclick="hideTip()"></div>

    <!-- Tipp-Fenster -->
    <div class="tip-popup" id="tipPopup">
      <button class="close-btn" onclick="hideTip()">&times;</button>
      <div class="popup-header">
        <svg class="popup-icon" viewBox="0 0 24 24">
          <path d="M12 2C8.13 2 5 5.13 5 9c0 2.38 1.19 4.47 3 5.74V17c0 .55.45 1 1 1h6c.55 0 1-.45 1-1v-2.26c1.81-1.27 3-3.36 3-5.74 0-3.87-3.13-7-7-7zM9 21c0 .55.45 1 1 1h4c.55 0 1-.45 1-1v-1H9v1z"/>
        </svg>
        <h2 class="popup-title">Hilfreiche Tipps</h2>
      </div>
      <div class="popup-content">
        <p>Denkt taktisch â€“ was, wenn die Franzosen uns Ã¼berrumpeln?</p>
        <ul>
          <li>Krank</li>
          <li>Verwundet</li>
          <li>Alt</li>
        </ul>
      </div>
    </div>

    <!-- HUD (Head-Up-Display): Button & Counter -->
    <div id="hud">
      <button id="collectBtn">Einsammeln</button>
    </div>
    <div id="timer" class="hudBox">00:00</div>
    <div id="counter" class="hudBox">0 / 3</div>


    <!-- Endbildschirm nach Fund aller Modelle -->
    <div id="endScreen">
      <h1>ğŸ‰ Alle Objekte gefunden!</h1>
      <p>Gut gemacht, du hast alle 3 Modelle eingesammelt.</p>
      <button onclick="location.reload()">ğŸ”„ Neu starten</button>
    </div>

    <!-- A-Frame Szene mit AR.js und GPS-Kamera -->
    <a-scene
      embedded
      vr-mode-ui="enabled: false"
      arjs="sourceType: webcam; videoTexture: true; debugUIEnabled: false;"
    >
      <!-- Kamera mit GPS-Tracking -->
      <a-camera gps-camera rotation-reader></a-camera>

      <!-- Modell 1 mit GPS-Koordinaten -->
      <a-entity 
        id="model1"
        gps-entity-place="latitude: 47.99621564921616; longitude: 14.119692166579815"
        gltf-model="https://t10018.github.io/schnitzeljagd/task5/models/model1.glb" 
        scale="2 2 2"
        animation-mixer>
      </a-entity>

      <!-- Modell 2 -->
      <a-entity 
        id="model2"
        gps-entity-place="latitude: 50.99621564921616; longitude: 10.119692166579815"
        gltf-model="https://t10018.github.io/schnitzeljagd/task5/models/model1.glb" 
        scale="2 2 2"
        animation-mixer>
      </a-entity>

      <!-- Modell 3 -->
      <a-entity 
        id="model3"
        gps-entity-place="latitude: 50.99621564921616; longitude: 10.119692166579815"
        gltf-model="https://t10018.github.io/schnitzeljagd/task5/models/model1.glb" 
        scale="2 2 2"
        animation-mixer>
      </a-entity>
    </a-scene>

    <!-- Externe JS-Datei -->
    <script src="script.js"></script>
  </body>
</html>
