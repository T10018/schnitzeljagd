<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Aufgabe 1</title>
  <link rel="stylesheet" href="../../style/speech.css">
</head>
<body>

  <img id="character" src="../../images/character3.png" alt="Charakter">

  <div id="speech">Feldmarschall… die verschlüsselte Botschaft bleibt uns ein Rätsel. Ohne sie wissen wir nicht, was der Generalmajor befahl – und jede Verzögerung bringt uns in größere Gefahr.</div>

  <button class="button bottom-left" onclick="previous()" id="backBtn" style="display: none;">Zurück</button>
  <button class="button bottom-right" onclick="next()" id="nextBtn">Weiter</button>

  <script>
    const lines = [
      "Feldmarschall… die verschlüsselte Botschaft bleibt uns ein Rätsel. Ohne sie wissen wir nicht, was der Generalmajor befahl – und jede Verzögerung bringt uns in größere Gefahr. ",
      "Wir müssen dennoch handeln. Vielleicht führt uns der Instinkt dorthin, wo der nächste Schritt nötig ist. ", 
      "Begebt Euch zum Denkmal im Park – vielleicht erwartet Euch dort mehr Klarheit. Doch seid auf alles gefasst. Wir tappen im Dunkeln. ",
    ];

    let index = 0;

    function updateSpeech() {
      const speechElement = document.getElementById("speech");
      const backBtn = document.getElementById("backBtn");
      const nextBtn = document.getElementById("nextBtn");
      
      // Fade-Effekt
      speechElement.style.opacity = '0';
      
      setTimeout(() => {
        speechElement.innerHTML = lines[index];
        speechElement.style.opacity = '1';
      }, 200);
      
      backBtn.style.display = index > 0 ? "block" : "none";
      nextBtn.innerHTML = "Weiter";
    }

    function next() {
      if (index < lines.length - 1) {
        index++;
        updateSpeech();
      } else {
        // Fade-out-Effekt vor dem Seitenwechsel
        document.body.classList.add('fade-out');
        requestAnimationFrame(() => {
        setTimeout(() => {
          window.location.href = "../map/map1.html";
        }, 500);
        });
      }
    }

    function previous() {
      if (index > 0) {
        index--;
        updateSpeech();
      }
    }
  </script>
</body>
</html>